"use strict";function _createForOfIteratorHelper(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,e=function(){};return{s:e,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,r=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return a=t.done,t},e:function(t){r=!0,o=t},f:function(){try{a||null==n.return||n.return()}finally{if(r)throw o}}}}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Map"===(n="Object"===n&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function GithubCalendar(t,e,n){var E,S;document.getElementById("github_container")&&(E=function(t,e){if("string"==typeof e){var n=document.createElement("div");n.innerHTML=e;for(var i=document.createDocumentFragment();n.firstChild;)i.appendChild(n.firstChild);t.appendChild(i)}else t.appendChild(e)},S=document.getElementById("github_container"),document.getElementById("github_loading"),function(e,w){function n(){if(document.getElementById("gitcanvas")){var s,p,u,g,f=document.getElementById("git_tooltip_container"),t=window.devicePixelRatio||1,e=document.getElementById("gitcanvas");e.style.width="100%",e.style.height="",document.getElementById("gitmessage");var n=e.getContext("2d");width=e.width=document.getElementById("gitcalendarcanvasbox").offsetWidth,height=e.height=8.64*e.width/git_data.length,m=e,b=n,1<(y=t)&&(v=m.width,t=m.height,m.width=v*y,m.height=t*y,m.style.width="100%",m.style.height=t+"px",b.scale(y,y));var i,o=height/9,h=.8*o,a={x:.02*width,y:.025*width};for(i in git_data){for(var r in weekdata=git_data[i],weekdata){var l={date:"",count:"",x:0,y:0};k.push(l),n.fillStyle=T(w,weekdata[r].count),a.y=Math.round(100*a.y)/100,l.date=weekdata[r].date,l.count=weekdata[r].count,l.x=a.x,l.y=a.y,n.fillRect(a.x,a.y,h,h),a.y=a.y+o}a.y=.025*width,a.x=a.x+o}if(700<document.body.clientWidth){n.font="600  Arial",n.fillStyle="#aaa",n.fillText("日",0,1.9*o),n.fillText("二",0,3.9*o),n.fillText("四",0,5.9*o),n.fillText("六",0,7.9*o);var d,c=e.width/24;for(d in _)n.fillText(_[d],c,.7*o),c+=e.width/12}e.onmousemove=function(t){document.querySelector(".gitmessage")&&(f.innerHTML=""),x(e,t)},f.onmousemove=function(t){document.querySelector(".gitmessage")&&(f.innerHTML="")};var x=function(t,e){var n,i=t.getBoundingClientRect(),o=e.clientX-i.left*(t.width/i.width),a=e.clientY-i.top*(t.height/i.height),r=_createForOfIteratorHelper(k);try{for(r.s();!(n=r.n()).done;){var l=n.value,d=o-l.x,c=a-l.y;0<d&&d<h&&0<c&&c<h&&(u=l.date,g=l.count,s=e.clientX-100,p=e.clientY-60,html=z(s,p,u,g),E(f,html))}}catch(t){r.e(t)}finally{r.f()}}}var m,b,y,v}function i(t){var e,n=_createForOfIteratorHelper(git_data[t]);try{for(n.s();!(e=n.n()).done;){var i=e.value;b+=i.count}}catch(t){n.e(t)}finally{n.f()}}function o(){var t,e=_createForOfIteratorHelper(x);try{for(e.s();!(t=e.n()).done;){var n=t.value;h+=n.count}}catch(t){e.e(t)}finally{e.f()}}function a(t){6===y?(f=x[0].date,o()):(lastweek=t.contributions[51],f=lastweek[y+1].date,o(),function(){for(var t=y;t<m.length;t++)h+=m[t].count}())}var r,l,d,c,s,p=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],_=[],u="",g="",f="",h=0,k=[],x=[],m=[],b=0,y=0,v=[],I=[];fetch(t).then(function(t){return t.json()}).then(function(t){document.getElementById("github_loading")&&document.getElementById("github_loading").remove(),git_data=t.contributions,l=t.total,v=git_data[48],c=git_data[47],d=t.contributions[0],x=t.contributions[52],m=t.contributions[51],y=x.length-1,u=x[y].date,r=d[0].date,s=+u.substring(5,7),I=p.splice(s,12-s),_=I.concat(p),a(t),g=0===y?(i(52),i(51),i(50),i(49),i(48),b+=c[6].count,c[6].date):(i(52),i(51),i(50),i(49),function(){for(var t=y-1;t<v.length;t++)b+=v[t].count}(),v[y-1].date);t=A(_,git_data,e,w,l,b,h,r,u,f,g);E(S,t),n()}).catch(function(t){console.log(t)}),window.onresize=function(){n()},window.onscroll=function(){document.querySelector(".gitmessage")&&(git_tooltip_container.innerHTML="")};var T=function(t,e){return 0===e?(parseInt(e/2),t[0]):e<2?t[1]:e<20?t[parseInt(e/2)]:t[9]},z=function(t,e,n,i){return""+'<div class="gitmessage" style="top:'+e+"px;left:"+t+'px;position: fixed;z-index:9999"><div class="angle-wrapper" style="display:block;"><span>'+n+"&nbsp;</span><span>"+i+" 次上傳</span></div></div>"},A=function(t,e,n,i,o,a,r,l,d,c,s){var p="";return(p+='<div class="position-relative"><p style="font-size:28px;margin: 15px 0px 0px 0px;">GitHub貢獻度</p><div class="border py-2 graph-before-activity-overview"><div class="js-gitcalendar-graph mx-md-2 mx-3 d-flex flex-column flex-items-end flex-xl-items-center overflow-hidden pt-1 is-graph-loading graph-canvas gitcalendar-graph height-full text-center"><div id="gitcalendarcanvasbox"> <canvas id="gitcanvas" style="animation: none;"></canvas></div></div>'+(""+('<div id="git_tooltip_container"></div><div class="contrib-footer clearfix mt-1 mx-3 px-3 pb-1"><div class="float-left text-gray">數據來源 <a href="https://github.com/'+n+'" target="blank">@'+n+'</a></div><div class="contrib-legend text-gray">Less <ul class="legend"><li style="background-color:'+i[0]+'"></li><li style="background-color:'+i[2]+'"></li><li style="background-color:'+i[4]+'"></li><li style="background-color:'+i[6]+'"></li><li style="background-color:'+i[8])+'"></li></ul> More</div></div>')+"</div></div>")+('<div style="display:flex;width:100%"><div class="contrib-column contrib-column-first table-column"><span class="text-muted">過去一年提交</span><span class="contrib-number">'+o+'</span><span class="text-muted">'+l+"&nbsp;-&nbsp;"+d+'</span></div><div class="contrib-column table-column"><span class="text-muted">最近一月提交</span><span class="contrib-number">'+a+'</span><span class="text-muted">'+s+"&nbsp;-&nbsp;"+d+'</span></div><div class="contrib-column table-column"><span class="text-muted">最近一週提交</span><span class="contrib-number">'+r+'</span><span class="text-muted">'+c+"&nbsp;-&nbsp;"+d+"</span></div></div>"+B())},B=function(){return style='<style>#github_container{text-align:center;margin:0 auto;width:100%;display:flex;display:-webkit-flex;justify-content:center;align-items:center;flex-wrap:wrap;}.gitcalendar-graph text.wday,.gitcalendar-graph text.month{font-size:10px;fill:#aaa;}.contrib-legend{text-align:right;padding:0 14px 10px 0;display:inline-block;float:right;}.contrib-legend .legend{display:inline-block;list-style:none;margin:0 5px;position:relative;bottom:-1px;padding:0;}.contrib-legend .legend li{display:inline-block;width:10px;height:10px;}.text-small{font-size:12px;color:#767676;}.gitcalendar-graph{padding:15px 0 0;text-align:center;}.contrib-column{text-align:center;border-left:1px solid #ddd;border-top:1px solid #ddd;font-size:11px;}.contrib-column-first{border-left:0;}.table-column{padding:10px;display:table-cell;flex:1;vertical-align:top;}.contrib-number{font-weight:300;line-height:1.3em;font-size:24px;display:block;}.gitcalendar img.spinner{width:70px;margin-top:50px;min-height:70px;}.monospace{text-align:center;color:#000;font-family:monospace;}.monospace a{color:#1D75AB;text-decoration:none;}.contrib-footer{font-size:11px;padding:0 10px 12px;text-align:left;width:100%;box-sizing:border-box;height:26px;}.left.text-muted{float:left;margin-left:9px;color:#767676;}.left.text-muted a{color:#4078c0;text-decoration:none;}.left.text-muted a:hover,.monospace a:hover{text-decoration:underline;}h2.f4.text-normal.mb-3{display:none;}.float-left.text-gray{float:left;}#user-activity-overview{display:none;}.day-tooltip{white-space:nowrap;position:absolute;z-index:99999;padding:10px;font-size:12px;color:#959da5;text-align:center;background:rgba(0,0,0,.85);border-radius:3px;display:none;pointer-events:none;}.day-tooltip strong{color:#dfe2e5;}.day-tooltip.is-visible{display:block;}.day-tooltip:after{position:absolute;bottom:-10px;left:50%;width:5px;height:5px;box-sizing:border-box;margin:0 0 0 -5px;content:" ";border:5px solid transparent;border-top-color:rgba(0,0,0,.85)}.position-relative{width:100%;}@media screen and (max-width:650px){.contrib-column{display:none}}.angle-wrapper{z-index:9999;display:inline;width:200px;height:40px;position:relative;padding:5px 0;background:rgba(0,0,0,0.8);border-radius:8px;text-align:center;color:white;}.angle-box{position:fixed;padding:10px}.angle-wrapper span{padding-bottom:1em;}.angle-wrapper:before{content:"";width:0;height:0;border:10px solid transparent;border-top-color:rgba(0,0,0,0.8);position:absolute;left:47.5%;top:100%;}</style>',style}}(n,e))}